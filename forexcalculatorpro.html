<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Forex Calculator Pro with Categories</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
  }
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
  .header {
    text-align: center;
    color: white;
    margin-bottom: 30px;
  }
  .header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
  }
  .header p {
    font-size: 1.1rem;
    opacity: 0.9;
  }
  .calculator-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }
  .calculator-card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
  }
  .calculator-card:hover {
    transform: translateY(-5px);
  }
  .card-title {
    font-size: 1.5rem;
    color: #333;
    margin-bottom: 20px;
    text-align: center;
    border-bottom: 2px solid #667eea;
    padding-bottom: 10px;
  }
  .form-group {
    margin-bottom: 15px;
  }
  .form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
    color: #555;
  }
  .form-group input, .form-group select {
    width: 100%;
    padding: 12px;
    border: 2px solid #e1e5e9;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s ease;
  }
  .form-group input:focus, .form-group select:focus {
    outline: none;
    border-color: #667eea;
  }
  .calculate-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.3s ease;
  }
  .calculate-btn:hover {
    transform: translateY(-2px);
  }
  .results {
    margin-top: 20px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #667eea;
  }
  .result-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    padding: 5px 0;
  }
  .result-label {
    font-weight: 600;
    color: #555;
  }
  .result-value {
    font-weight: 700;
    color: #333;
  }
  .currency-pairs {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 30px;
  }
  .pair-card {
    background: white;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }
  .pair-name {
    font-weight: 700;
    font-size: 1.1rem;
    color: #333;
    margin-bottom: 5px;
  }
  .pair-price {
    font-size: 1.2rem;
    color: #667eea;
    font-weight: 600;
  }
  .risk-warning {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 8px;
    padding: 15px;
    margin-top: 20px;
    color: #856404;
  }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>🔢 Forex Calculator Pro with Categories</h1>
    <p>Professional trading calculators for position sizing, pip values, and risk management</p>
  </div>
  <div class="calculator-grid">
    <!-- Position Size Calculator -->
    <div class="calculator-card">
      <h2 class="card-title">📊 Position Size Calculator</h2>
      <form id="positionForm">
        <div class="form-group">
          <label for="positionCategory">Instrument Category:</label>
          <select id="positionCategory" required>
            <option value="forex">Forex Pairs (USD-based)</option>
            <option value="indices">Indices (USD-denominated)</option>
            <option value="metals">Metals (USD-based)</option>
            <option value="stocks">Stocks (USD-based)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="positionInstrument">Select Instrument:</label>
          <select id="positionInstrument" required></select>
        </div>
        <div class="form-group">
          <label for="accountCurrency">Account Currency:</label>
          <select id="accountCurrency" required>
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <option value="JPY">JPY</option>
            <option value="CHF">CHF</option>
            <option value="AUD">AUD</option>
            <option value="CAD">CAD</option>
          </select>
        </div>
        <div class="form-group">
          <label for="accountSize">Account Size:</label>
          <input type="number" id="accountSize" placeholder="10000" required />
        </div>
        <div class="form-group">
          <label for="riskRatio">Risk Ratio (%):</label>
          <input type="number" id="riskRatio" placeholder="2" step="0.1" required />
        </div>
        <div class="form-group">
          <label for="stopLoss">Stop Loss (pips):</label>
          <input type="number" id="stopLoss" placeholder="50" required />
        </div>
        <button type="submit" class="calculate-btn">Calculate Position Size</button>
      </form>
      <div id="positionResults" class="results" style="display:none"></div>
    </div>

    <!-- Pip Calculator -->
    <div class="calculator-card">
      <h2 class="card-title">📈 Pip Calculator</h2>
      <form id="pipForm">
        <div class="form-group">
          <label for="pipCategory">Instrument Category:</label>
          <select id="pipCategory" required>
            <option value="forex">Forex Pairs (USD-based)</option>
            <option value="indices">Indices (USD-denominated)</option>
            <option value="metals">Metals (USD-based)</option>
            <option value="stocks">Stocks (USD-based)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="pipInstrument">Select Instrument:</label>
          <select id="pipInstrument" required></select>
        </div>
        <div class="form-group">
          <label for="pipAccountCurrency">Account Currency:</label>
          <select id="pipAccountCurrency" required>
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <option value="JPY">JPY</option>
            <option value="CHF">CHF</option>
            <option value="AUD">AUD</option>
            <option value="CAD">CAD</option>
          </select>
        </div>
        <div class="form-group">
          <label for="tradeSize">Trade Size (Lots):</label>
          <input type="number" id="tradeSize" placeholder="1" step="0.01" required />
        </div>
        <div class="form-group">
          <label for="pipCount">Number of Pips:</label>
          <input type="number" id="pipCount" placeholder="10" required />
        </div>
        <button type="submit" class="calculate-btn">Calculate Pip Value</button>
      </form>
      <div id="pipResults" class="results" style="display:none"></div>
    </div>

    <!-- Margin Calculator -->
    <div class="calculator-card">
      <h2 class="card-title">💰 Margin Calculator</h2>
      <form id="marginForm">
        <div class="form-group">
          <label for="marginCategory">Instrument Category:</label>
          <select id="marginCategory" required>
            <option value="forex">Forex Pairs (USD-based)</option>
            <option value="indices">Indices (USD-denominated)</option>
            <option value="metals">Metals (USD-based)</option>
            <option value="stocks">Stocks (USD-based)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="marginInstrument">Select Instrument:</label>
          <select id="marginInstrument" required></select>
        </div>
        <div class="form-group">
          <label for="marginTradeSize">Trade Size (Lots):</label>
          <input type="number" id="marginTradeSize" placeholder="1" step="0.01" required />
        </div>
        <div class="form-group">
          <label for="leverage">Leverage:</label>
          <select id="leverage" required>
            <option value="50">1:50</option>
            <option value="100">1:100</option>
            <option value="200">1:200</option>
            <option value="500">1:500</option>
          </select>
        </div>
        <div class="form-group">
          <label for="currentPrice">Current Price:</label>
          <input type="number" id="currentPrice" placeholder="1.1000" step="0.00001" required />
        </div>
        <button type="submit" class="calculate-btn">Calculate Margin</button>
      </form>
      <div id="marginResults" class="results" style="display:none"></div>
    </div>

    <!-- Profit/Loss Calculator -->
    <div class="calculator-card">
      <h2 class="card-title">📊 Profit/Loss Calculator</h2>
      <form id="profitForm">
        <div class="form-group">
          <label for="profitCategory">Instrument Category:</label>
          <select id="profitCategory" required>
            <option value="forex">Forex Pairs (USD-based)</option>
            <option value="indices">Indices (USD-denominated)</option>
            <option value="metals">Metals (USD-based)</option>
            <option value="stocks">Stocks (USD-based)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="profitInstrument">Select Instrument:</label>
          <select id="profitInstrument" required></select>
        </div>
        <div class="form-group">
          <label for="plTradeSize">Trade Size (Lots):</label>
          <input type="number" id="plTradeSize" placeholder="1" step="0.01" required />
        </div>
        <div class="form-group">
          <label for="openPrice">Open Price:</label>
          <input type="number" id="openPrice" placeholder="1.1000" step="0.00001" required />
        </div>
        <div class="form-group">
          <label for="closePrice">Close Price:</label>
          <input type="number" id="closePrice" placeholder="1.1050" step="0.00001" required />
        </div>
        <div class="form-group">
          <label for="tradeType">Trade Type:</label>
          <select id="tradeType" required>
            <option value="buy">Buy (Long)</option>
            <option value="sell">Sell (Short)</option>
          </select>
        </div>
        <button type="submit" class="calculate-btn">Calculate P&L</button>
      </form>
      <div id="profitResults" class="results" style="display:none"></div>
    </div>
  </div>
  <div class="calculator-card">
    <h2 class="card-title">💱 Major Currency Pairs</h2>
    <div class="currency-pairs" id="currencyPairs">
      <div class="pair-card"><div class="pair-name">EUR/USD</div><div class="pair-price">1.0850</div></div>
      <div class="pair-card"><div class="pair-name">GBP/USD</div><div class="pair-price">1.2650</div></div>
      <div class="pair-card"><div class="pair-name">USD/JPY</div><div class="pair-price">148.50</div></div>
      <div class="pair-card"><div class="pair-name">USD/CHF</div><div class="pair-price">0.8850</div></div>
      <div class="pair-card"><div class="pair-name">AUD/USD</div><div class="pair-price">0.6750</div></div>
      <div class="pair-card"><div class="pair-name">USD/CAD</div><div class="pair-price">1.3550</div></div>
    </div>
  </div>
  <div class="risk-warning">
    <strong>⚠️ Risk Warning:</strong> Trading foreign exchange on margin carries a high level of risk and may not be suitable for all investors. Past performance is not indicative of future results. The high degree of leverage can work against you as well as for you.
  </div>
</div>
<script>
  const instruments = {
    forex: [
      { value: 'EURUSD', text: 'EUR/USD (Euro / US Dollar)' },
      { value: 'GBPUSD', text: 'GBP/USD (British Pound / US Dollar)' },
      { value: 'USDJPY', text: 'USD/JPY (US Dollar / Japanese Yen)' },
      { value: 'USDCHF', text: 'USD/CHF (US Dollar / Swiss Franc)' },
      { value: 'AUDUSD', text: 'AUD/USD (Australian Dollar / US Dollar)' },
      { value: 'NZDUSD', text: 'NZD/USD (New Zealand Dollar / US Dollar)' },
      { value: 'USDCAD', text: 'USD/CAD (US Dollar / Canadian Dollar)' },
      { value: 'USDSGD', text: 'USD/SGD (US Dollar / Singapore Dollar)' },
      { value: 'USDHKD', text: 'USD/HKD (US Dollar / Hong Kong Dollar)' },
      { value: 'USDSEK', text: 'USD/SEK (US Dollar / Swedish Krona)' },
      { value: 'USDNOK', text: 'USD/NOK (US Dollar / Norwegian Krone)' },
      { value: 'USDZAR', text: 'USD/ZAR (US Dollar / South African Rand)' },
      { value: 'USDTRY', text: 'USD/TRY (US Dollar / Turkish Lira)' },
      { value: 'USDMXN', text: 'USD/MXN (US Dollar / Mexican Peso)' },
      { value: 'USDTHB', text: 'USD/THB (US Dollar / Thai Baht)' },
      { value: 'USDCNH', text: 'USD/CNH (US Dollar / Chinese Yuan offshore)' }
    ],
    indices: [
      { value: 'US30', text: 'US30 / DJ30 – Dow Jones Industrial Average' },
      { value: 'NAS100', text: 'NAS100 / NDX – Nasdaq 100' },
      { value: 'SPX500', text: 'SPX500 / US500 – S&P 500' },
      { value: 'GER40', text: 'GER40 / DAX40 – Germany 40 Index' },
      { value: 'UK100', text: 'UK100 / FTSE100 – United Kingdom' },
      { value: 'JPN225', text: 'JPN225 / Nikkei 225 – Japan' },
      { value: 'HK50', text: 'HK50 – Hang Seng Index (Hong Kong)' },
      { value: 'AUS200', text: 'AUS200 – S&P/ASX 200 (Australia)' },
      { value: 'FRA40', text: 'FRA40 – CAC 40 (France)' }
    ],
    metals: [
      { value: 'XAUUSD', text: 'XAU/USD – Gold vs US Dollar' },
      { value: 'XAGUSD', text: 'XAG/USD – Silver vs US Dollar' },
      { value: 'XPTUSD', text: 'XPT/USD – Platinum vs US Dollar' },
      { value: 'XPDUSD', text: 'XPD/USD – Palladium vs US Dollar' },
      { value: 'HGUSD', text: 'Copper (HG/USD)' },
      { value: 'ALIUSD', text: 'Aluminum (ALI/USD)' }
    ],
    stocks: [
      { value: 'AAPL', text: 'AAPL – Apple Inc.' },
      { value: 'MSFT', text: 'MSFT – Microsoft Corp.' },
      { value: 'TSLA', text: 'TSLA – Tesla Inc.' },
      { value: 'AMZN', text: 'AMZN – Amazon.com Inc.' },
      { value: 'NVDA', text: 'NVDA – Nvidia Corp.' },
      { value: 'META', text: 'META – Meta Platforms Inc.' },
      { value: 'GOOGL', text: 'GOOGL – Alphabet Inc.' },
      { value: 'JPM', text: 'JPM – JPMorgan Chase' },
      { value: 'XOM', text: 'XOM – ExxonMobil' },
      { value: 'BRK.B', text: 'BRK.B – Berkshire Hathaway' },
      { value: 'WMT', text: 'WMT – Walmart' },
      { value: 'BA', text: 'BA – Boeing' },
      { value: 'PFE', text: 'PFE – Pfizer' },
      { value: 'SPY', text: 'SPY – S&P 500 ETF' },
      { value: 'QQQ', text: 'QQQ – Nasdaq 100 ETF' },
      { value: 'GLD', text: 'GLD – Gold ETF' },
      { value: 'TLT', text: 'TLT – Treasury Bond ETF' },
      { value: 'USO', text: 'USO – Crude Oil ETF' }
    ]
  };

  function populateDropdown(categorySelectId, instrumentSelectId) {
    const categorySelect = document.getElementById(categorySelectId);
    const instrumentSelect = document.getElementById(instrumentSelectId);
    const category = categorySelect.value;
    instrumentSelect.innerHTML = '';
    instruments[category].forEach(inst => {
      const option = document.createElement('option');
      option.value = inst.value;
      option.textContent = inst.text;
      instrumentSelect.appendChild(option);
    });
  }

  // Initialize all dropdowns
  ['position', 'pip', 'margin', 'profit'].forEach(prefix => {
    populateDropdown(prefix + 'Category', prefix + 'Instrument');
    document.getElementById(prefix + 'Category').addEventListener('change', () => {
      populateDropdown(prefix + 'Category', prefix + 'Instrument');
    });
  });

  // Utility functions
  function getPipValue(instrument) {
    // For simplicity, JPY pairs and metals have pip value 0.01, others 0.0001
    if (instrument.includes('JPY') || instrument.startsWith('XAU') || instrument.startsWith('XAG') || instrument.startsWith('XPT') || instrument.startsWith('XPD') || instrument === 'HGUSD' || instrument === 'ALIUSD') {
      return 0.01;
    }
    return 0.0001;
  }

  function formatCurrency(amount, currency = 'USD') {
    return new Intl.NumberFormat('en-US', { style: 'currency', currency: currency }).format(amount);
  }

  function formatNumber(number, decimals = 2) {
    return number.toFixed(decimals);
  }

  // Position Size Calculator
  document.getElementById('positionForm').addEventListener('submit', e => {
    e.preventDefault();
    const instrument = document.getElementById('positionInstrument').value;
    const accountCurrency = document.getElementById('accountCurrency').value;
    const accountSize = parseFloat(document.getElementById('accountSize').value);
    const riskRatio = parseFloat(document.getElementById('riskRatio').value);
    const stopLoss = parseFloat(document.getElementById('stopLoss').value);

    if (accountSize <= 0 || riskRatio <= 0 || stopLoss <= 0) {
      alert('Please enter valid positive numbers.');
      return;
    }

    const riskAmount = (accountSize * riskRatio) / 100;
    const pipValue = getPipValue(instrument);
    const positionSize = riskAmount / (stopLoss * pipValue * 100000);
    const positionSizeLots = positionSize.toFixed(2);
    const units = Math.round(positionSize * 100000);
    const riskPerPip = riskAmount / stopLoss;

    const resultsDiv = document.getElementById('positionResults');
    resultsDiv.style.display = 'block';
    resultsDiv.innerHTML = `
      <div class="result-item"><span class="result-label">Risk Amount:</span><span class="result-value">${formatCurrency(riskAmount, accountCurrency)}</span></div>
      <div class="result-item"><span class="result-label">Position Size:</span><span class="result-value">${positionSizeLots} lots</span></div>
      <div class="result-item"><span class="result-label">Units:</span><span class="result-value">${units.toLocaleString()}</span></div>
      <div class="result-item"><span class="result-label">Risk per Pip:</span><span class="result-value">${formatCurrency(riskPerPip, accountCurrency)}</span></div>
    `;
  });

  // Pip Calculator
  document.getElementById('pipForm').addEventListener('submit', e => {
    e.preventDefault();
    const instrument = document.getElementById('pipInstrument').value;
    const accountCurrency = document.getElementById('pipAccountCurrency').value;
    const tradeSize = parseFloat(document.getElementById('tradeSize').value);
    const pipCount = parseFloat(document.getElementById('pipCount').value);

    if (tradeSize <= 0 || pipCount <= 0) {
      alert('Please enter valid positive numbers.');
      return;
    }

    const pipValue = getPipValue(instrument);
    const pipValuePerLot = pipValue * 100000;
    const totalPipValue = tradeSize * pipCount * pipValuePerLot;
    const pipValueSingle = tradeSize * pipValuePerLot;

    const resultsDiv = document.getElementById('pipResults');
    resultsDiv.style.display = 'block';
    resultsDiv.innerHTML = `
      <div class="result-item"><span class="result-label">Pip Value:</span><span class="result-value">${formatCurrency(pipValueSingle)}</span></div>
      <div class="result-item"><span class="result-label">Total Value:</span><span class="result-value">${formatCurrency(totalPipValue)}</span></div>
      <div class="result-item"><span class="result-label">Pips:</span><span class="result-value">${pipCount}</span></div>
    `;
  });

  // Margin Calculator
  document.getElementById('marginForm').addEventListener('submit', e => {
    e.preventDefault();
    const instrument = document.getElementById('marginInstrument').value;
    const tradeSize = parseFloat(document.getElementById('marginTradeSize').value);
    const leverage = parseFloat(document.getElementById('leverage').value);
    const currentPrice = parseFloat(document.getElementById('currentPrice').value);

    if (tradeSize <= 0 || leverage <= 0 || currentPrice <= 0) {
      alert('Please enter valid positive numbers.');
      return;
    }

    const notionalValue = tradeSize * 100000 * currentPrice;
    const marginRequired = notionalValue / leverage;

    const resultsDiv = document.getElementById('marginResults');
    resultsDiv.style.display = 'block';
    resultsDiv.innerHTML = `
      <div class="result-item"><span class="result-label">Notional Value:</span><span class="result-value">${formatCurrency(notionalValue)}</span></div>
      <div class="result-item"><span class="result-label">Margin Required:</span><span class="result-value">${formatCurrency(marginRequired)}</span></div>
      <div class="result-item"><span class="result-label">Leverage:</span><span class="result-value">1:${leverage}</span></div>
    `;
  });

  // Profit/Loss Calculator
  document.getElementById('profitForm').addEventListener('submit', e => {
    e.preventDefault();
    const instrument = document.getElementById('profitInstrument').value;
    const tradeSize = parseFloat(document.getElementById('plTradeSize').value);
    const openPrice = parseFloat(document.getElementById('openPrice').value);
    const closePrice = parseFloat(document.getElementById('closePrice').value);
    const tradeType = document.getElementById('tradeType').value;

    if (tradeSize <= 0 || openPrice <= 0 || closePrice <= 0) {
      alert('Please enter valid positive numbers.');
      return;
    }

    let priceDifference = closePrice - openPrice;
    if (tradeType === 'sell') {
      priceDifference = openPrice - closePrice;
    }

    let pipDifference = priceDifference;
    if (instrument.includes('JPY')) {
      pipDifference = priceDifference * 100;
    } else {
      pipDifference = priceDifference * 10000;
    }

    const profitLoss = tradeSize * priceDifference * 100000;
    const profitLossFormatted = profitLoss >= 0 ? `+${formatCurrency(Math.abs(profitLoss))}` : `-${formatCurrency(Math.abs(profitLoss))}`;
    const pipDifferenceFormatted = pipDifference >= 0 ? `+${pipDifference.toFixed(1)}` : `-${pipDifference.toFixed(1)}`;

    const resultsDiv = document.getElementById('profitResults');
    resultsDiv.style.display = 'block';
    resultsDiv.innerHTML = `
      <div class="result-item"><span class="result-label">Price Difference:</span><span class="result-value">${priceDifference.toFixed(5)}</span></div>
      <div class="result-item"><span class="result-label">Pip Difference:</span><span class="result-value">${pipDifferenceFormatted} pips</span></div>
      <div class="result-item"><span class="result-label">Profit/Loss:</span><span class="result-value" style="color: ${profitLoss >= 0 ? 'green' : 'red'}">${profitLossFormatted}</span></div>
    `;
  });

  // Live currency pairs display (static for demo)
  const livePairs = [
    { name: 'EUR/USD', price: 1.0850 },
    { name: 'GBP/USD', price: 1.2650 },
    { name: 'USD/JPY', price: 148.50 },
    { name: 'USD/CHF', price: 0.8850 },
    { name: 'AUD/USD', price: 0.6750 },
    { name: 'USD/CAD', price: 1.3550 }
  ];

  const currencyPairsDiv = document.getElementById('currencyPairs');
  currencyPairsDiv.innerHTML = '';
  livePairs.forEach(pair => {
    const div = document.createElement('div');
    div.className = 'pair-card';
    div.innerHTML = `<div class='pair-name'>${pair.name}</div><div class='pair-price'>${pair.price}</div>`;
    currencyPairsDiv.appendChild(div);
  });
</script>
</body>
</html>
